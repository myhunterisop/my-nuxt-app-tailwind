# Raidbots API Интеграция

## Обзор

Этот проект предоставляет автоматизированное решение для работы с Raidbots API, позволяющее создавать таблицы приоритетов предметов для распределения между игроками гильдии.

## Возможности Raidbots API

Raidbots API предоставляет следующие основные возможности:

### 1. Получение отчетов SimCraft
- Доступ к данным о персонажах
- Информация о снаряжении
- Статистика урона и исцеления

### 2. DropOptimizer данные
- Список предметов, которые являются апгрейдами для персонажа
- Процент улучшения для каждого предмета
- Информация о боссах, с которых выпадают предметы

### 3. Интеграция с WoW API
- Данные о предметах из игры
- Информация о классах и специализациях
- Статистика рейдов

## Созданное решение

### Функциональность

1. **Автоматическая загрузка отчетов** - Ввод ID отчетов и получение данных
2. **Создание таблиц приоритетов** - Сортировка кандидатов по проценту апгрейда
3. **Фильтрация данных** - Поиск по предметам, классам, минимальному апгрейду
4. **Экспорт в CSV** - Сохранение результатов для дальнейшего использования
5. **Визуализация данных** - Удобная таблица с цветовой индикацией

### Структура проекта

```
├── composables/
│   └── useRaidbotsApi.ts          # Основная логика работы с API
├── pages/
│   └── raidbots.vue               # Интерфейс для работы с API
├── mocks/
│   └── raidbots-data.json         # Моковые данные для тестирования
└── RAIDBOTS_API.md               # Эта документация
```

## Как использовать

### 1. Подготовка отчетов

1. Создайте отчеты DropOptimizer в Raidbots для каждого игрока:
   - Перейдите на https://www.raidbots.com/
   - Создайте новый отчет типа "DropOptimizer"
   - Загрузите профиль персонажа
   - Дождитесь завершения анализа

2. Получите ID отчетов:
   - ID находится в URL отчета: `https://www.raidbots.com/simbot/report/82DBFUtwpqLpfh5CC2zJM1`
   - Скопируйте часть после `/report/` (в данном случае `82DBFUtwpqLpfh5CC2zJM1`)

### 2. Использование приложения

1. Откройте страницу `/raidbots` в приложении
2. Вставьте ID отчетов в текстовое поле (по одному на строку)
3. Нажмите "Загрузить отчеты"
4. Используйте фильтры для поиска конкретных предметов
5. Экспортируйте результаты в CSV при необходимости

### 3. Интерпретация результатов

Таблица показывает:
- **Предмет** - Название и ID предмета
- **Кандидат** - Имя персонажа
- **Класс** - Класс персонажа
- **Специализация** - Специализация персонажа
- **Апгрейд (%)** - Процент улучшения от предмета
- **Приоритет** - Ранг кандидата (1 = высший приоритет)

## Пример использования

### Входные данные
```
82DBFUtwpqLpfh5CC2zJM1
ABC123DEF456
XYZ789GHI012
DEF456GHI789
```

### Результат для предмета "Band of the Shattered Soul"
| Приоритет | Кандидат | Класс | Специализация | Апгрейд (%) |
|-----------|----------|-------|---------------|-------------|
| 1 | Вайзмэнион | Mage | Fire | 4.1% |
| 2 | ТанкоБоец | Warrior | Protection | 3.2% |
| 3 | ХилоМастер | Priest | Holy | 2.9% |
| 4 | РогоХантер | Hunter | Beast Mastery | 1.8% |

## Технические детали

### API Endpoints

```typescript
// Получение отчета
GET https://www.raidbots.com/api/report/{reportId}

// Получение данных DropOptimizer
GET https://www.raidbots.com/api/report/{reportId}/dropoptimizer
```

### Структура данных

```typescript
interface DropOptimizerItem {
  itemId: number
  itemName: string
  upgradePercent: number
  characterName: string
  characterClass: string
  characterSpec: string
  bossName?: string
}

interface ItemPriority {
  itemId: number
  itemName: string
  candidates: {
    characterName: string
    characterClass: string
    characterSpec: string
    upgradePercent: number
  }[]
}
```

### Ограничения API

1. **Rate Limiting** - Raidbots может ограничивать количество запросов
2. **Размер отчетов** - Большие отчеты могут занимать время для обработки
3. **Доступность** - API может быть недоступен во время обновлений

## Расширение функциональности

### Возможные улучшения

1. **Интеграция с Discord** - Отправка результатов в Discord канал
2. **Автоматическое обновление** - Периодическая проверка новых отчетов
3. **История распределения** - Отслеживание уже выданных предметов
4. **Интеграция с WoW API** - Получение актуальной информации о предметах
5. **Мобильное приложение** - Версия для мобильных устройств

### Добавление новых функций

Для добавления новых функций:

1. Расширьте интерфейсы в `useRaidbotsApi.ts`
2. Добавьте новые методы в composable
3. Обновите UI в `raidbots.vue`
4. Добавьте тесты для новых функций

## Устранение неполадок

### Частые проблемы

1. **"Отчет еще не готов"** - Дождитесь завершения анализа в Raidbots
2. **"Не удалось получить данные"** - Проверьте правильность ID отчета
3. **"API недоступен"** - Проверьте статус Raidbots или используйте моковые данные

### Отладка

1. Откройте Developer Tools в браузере
2. Проверьте Network вкладку для API запросов
3. Посмотрите Console для ошибок JavaScript
4. Используйте моковые данные для тестирования

## Лицензия и использование

Этот проект создан для демонстрации возможностей работы с Raidbots API. При использовании в продакшене убедитесь в соблюдении условий использования Raidbots API.
